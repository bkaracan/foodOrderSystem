<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Toppings Selection</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    body {
        font-family: 'Roboto', sans-serif;
        background-color: #f8f9fa;
    }

    .header-title {
        text-align: center;
        font-size: 1.2em;
        margin-bottom: 5px;
        margin-top: 3px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    table, th, td {
        border: 1px solid #ddd;
    }

    th {
        background-color: #241468;
        color: white;
        font-size: 0.9em;
        padding: 4px;
    }

    td {
        text-align: center;
        padding: 4px;
        font-size: 0.9em;
    }

    tr:hover {
        background-color: #f5f5f5;
    }

    .selected-burger-image {
        max-width: 400px;
        margin: auto;
    }

    .btn-topping {
        background-color: #241468;
        color: white;
    }

    .btn-topping:hover {
        background-color: #45FFCA;
        color: black;
    }

    .card {
        border-radius: 15px;
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: all 0.3s ease;
        padding: 1rem;
    }

    .navbar {
        background-color: #241468;
        padding: 1rem 2rem;
    }
    .navbar-brand, .navbar-nav .nav-link {
        color: white;
    }
    .navbar-nav .nav-link:hover {
        color: #45FFCA;
    }
  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/burgers"><i class="fas fa-hamburger mr-2"></i>Burgers</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/sides"><i class="fas fa-bacon mr-2"></i>Sides</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/beverages"><i class="fas fa-glass-whiskey mr-2"></i>Beverages</a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto"> <!-- Burada ml-auto sınıfını ekledik -->
      <li class="nav-item">
        <a class="nav-link" href="/cart">
          <span id="cartTotal">0.00 ₺</span>
          <i class="fas fa-shopping-cart"></i></a>
      </li>
    </ul>
  </div>
</nav>
<div class="container mt-5">
  <div class="card p-4">
    <div class="row mb-5">
      <div class="col-md-6">
        <!-- Seçilen Burger'ın Fotoğrafı ve Adı -->
        <img th:src="@{'/images/' + ${selectedBurger.name} + '.jpg'}" class="img-fluid selected-burger-image" alt="Selected Burger Image">
        <h2 class="mt-3" th:text="${selectedBurger.name}"></h2>
        <p th:text="${selectedBurger.description}"></p>
      </div>

      <div class="col-md-3">
        <!-- Toppings Tablosu -->
        <div class="header-title">
          Choose Your Toppings
        </div>
        <table class="table table-striped">
          <thead>
          <tr style="visibility: hidden;">
            <th>Topping Name</th>
            <th>Price</th>
            <th>Add/Subtract</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="topping : ${toppings}">
            <td th:text="${topping.name}"></td>
            <td th:text="${topping.price + ' ₺'}"></td>
            <td>
              <button class="btn btn-success btn-sm">&#10003;</button>
              <button class="btn btn-danger btn-sm">&#10005;</button>
            </td>
          </tr>
          </tbody>
        </table>
        <button class="btn btn-success mt-3 w-100">Confirm Toppings</button>
      </div>

      <div class="col-md-3">
        <div class="selected-toppings card p-3">
          <h4>Selected Burger:</h4>
          <p th:text="${selectedBurger.name}"></p>
          <h4>Selected Toppings:</h4>
          <ul id="topping-list">
            <!-- JavaScript ile doldurulacak -->
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  $(document).ready(function() {
      $(".btn-success").click(function() {
          var toppingName = $(this).closest('tr').find('td:first').text();
          if($("#topping-list").find("li:contains('" + toppingName + "')").length === 0) {
              $("#topping-list").append('<li>' + toppingName + '</li>');
          }
      });

      $(".btn-danger").click(function() {
          var toppingName = $(this).closest('tr').find('td:first').text();
          $("#topping-list").find("li:contains('" + toppingName + "')").remove();
      });
  });
</script>

</body>
</html>
